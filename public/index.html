<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoL 募集掲示板 - League of Legends プレイヤー募集サイト | Discord認証版</title>
    
    <!-- SEO メタタグ -->
    <meta name="description" content="League of Legends（LoL）プレイヤー向け募集掲示板。ランク、ノーマル、ARAM、フレックスで一緒にプレイする仲間を見つけよう！Discordで簡単ログイン。">
    <meta name="keywords" content="LoL, League of Legends, 募集, 掲示板, ランク, デュオ, プレイヤー募集, Discord, ゲーム, MOBA, Riot Games, チームメイト">
    <meta name="author" content="LoL募集掲示板">
    
    <!-- OGP（Open Graph Protocol）タグ -->
    <meta property="og:title" content="LoL 募集掲示板 - League of Legends プレイヤー募集サイト">
    <meta property="og:description" content="League of Legends（LoL）プレイヤー向け募集掲示板。ランク、ノーマル、ARAM、フレックスで一緒にプレイする仲間を見つけよう！">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rally-lol.vercel.app">
    <meta property="og:site_name" content="LoL募集掲示板">
    <meta property="og:locale" content="ja_JP">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="LoL 募集掲示板 - League of Legends プレイヤー募集サイト">
    <meta name="twitter:description" content="League of Legends（LoL）プレイヤー向け募集掲示板。一緒にプレイする仲間を見つけよう！">
    
    <!-- 検索エンジン設定 -->
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    
    <!-- 構造化データ（JSON-LD） -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "LoL 募集掲示板",
        "alternateName": "League of Legends 募集掲示板",
        "url": "https://rally-lol.vercel.app",
        "description": "League of Legends（LoL）プレイヤー向け募集掲示板。ランク、ノーマル、ARAM、フレックスで一緒にプレイする仲間を見つけよう！",
        "inLanguage": "ja",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://rally-lol.vercel.app/?search={search_term_string}",
            "query-input": "required name=search_term_string"
        },
        "publisher": {
            "@type": "Organization",
            "name": "LoL募集掲示板"
        },
        "mainEntity": {
            "@type": "WebApplication",
            "name": "LoL 募集掲示板",
            "applicationCategory": "GameApplication",
            "operatingSystem": "Web",
            "description": "League of Legends プレイヤー向けの募集掲示板アプリケーション",
            "featureList": [
                "プレイヤー募集投稿",
                "パーティー機能",
                "Discord認証",
                "ランク別募集",
                "レーン別募集"
            ]
        }
    }
    </script>
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ヘッダー -->
    <header class="header">
        <nav class="nav-container">
            <div class="logo">🎮 LoL 募集掲示板</div>
            <ul class="nav-menu" id="nav-menu">
                <li class="nav-item"><a href="#" onclick="showDashboard()">ホーム</a></li>
                <li class="nav-item"><a href="#" onclick="showBoard()">募集掲示板</a></li>
                <li class="nav-item"><a href="#" onclick="showMyPosts()">投稿管理</a></li>
                <li class="nav-item"><a href="#" onclick="showApplications()">申請管理</a></li>
                <li class="nav-item"><a href="#" onclick="showParties()">パーティー</a></li>
            </ul>
            <div class="user-info" id="nav-user-info">
                <!-- ユーザー情報をJavaScriptで動的に表示 -->
            </div>
        </nav>
    </header>

    <!-- メインコンテンツ -->
    <main class="main-container">
        <!-- メッセージエリア -->
        <div id="message-area"></div>

        <!-- ロード中画面 -->
        <div id="loading-screen" class="screen loading active">
            <div class="card">
                <div class="loading">
                    <div class="spinner"></div>
                    <p style="margin-top: 1rem;">読み込み中...</p>
                </div>
            </div>
        </div>

        <!-- ログイン画面 -->
        <div id="auth-screen" class="screen">
            <div class="hero-section">
                <h1 class="hero-title">LoL 募集掲示板</h1>
                <p class="hero-subtitle">
                    League of Legends プレイヤー向け募集掲示板<br>
                    Discordアカウントでログインして、仲間を見つけよう！
                </p>
                <div style="text-align: center; margin-top: 2rem;">
                    <button class="btn" onclick="loginWithDiscord()">
                        <img src="https://brandlogos.net/wp-content/uploads/2021/11/discord-logo.png" alt="Discord" style="width: 20px; height: 20px; margin-right: 0.5rem; vertical-align: middle;"> Discordでログイン
                    </button>
                </div>
            </div>
        </div>

        <!-- Riot ID設定画面 -->
        <div id="riot-id-setup-screen" class="screen">
            <div class="card">
                <h2 class="card-title">⚔️ Riot ID設定</h2>
                <p>League of Legendsで遊ぶために、Riot IDを設定してください。</p>
                <form id="riot-id-form">
                    <div class="form-group">
                        <label class="form-label" for="riot-id">Riot ID</label>
                        <input type="text" id="riot-id" class="form-input" 
                               placeholder="例: Test#JP1 または Test#1234" required>
                        <small class="help-text">「ユーザー名#タグ」の形式で入力してください</small>
                    </div>
                    <button type="submit" class="btn">設定完了</button>
                </form>
            </div>
        </div>

        <!-- ダッシュボード画面 -->
        <div id="dashboard-screen" class="screen">
            <div class="hero-section">
                <h1 class="hero-title">Welcome, Summoner!</h1>
                <p class="hero-subtitle" id="dashboard-welcome">
                    リフトでの冒険を始めましょう
                </p>
            </div>

            <!-- ユーザー情報カード -->
            <div class="card">
                <h3 class="card-title">👤 プロフィール</h3>
                <div id="user-info"></div>
                <div style="margin-top: 1.5rem;">
                    <button class="btn btn-outline" onclick="showAccountEdit()">プロフィール編集</button>
                    <button class="btn btn-secondary" onclick="logout()" style="margin-left: 1rem;">ログアウト</button>
                </div>
            </div>

            <!-- クイックアクション -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem;">
                <div class="card">
                    <h3 class="card-title">📝 募集投稿</h3>
                    <p>新しい仲間を募集しましょう</p>
                    <button class="btn" onclick="showCreatePost()" style="margin-top: 1rem;">募集を作成</button>
                </div>

                <div class="card">
                    <h3 class="card-title">🔍 募集を探す</h3>
                    <p>他のプレイヤーの募集をチェック</p>
                    <button class="btn" onclick="showBoard()" style="margin-top: 1rem;">掲示板を見る</button>
                </div>

                <div class="card">
                    <h3 class="card-title">👥 パーティー</h3>
                    <p>参加中のパーティーを確認</p>
                    <button class="btn" onclick="showParties()" style="margin-top: 1rem;">パーティー一覧</button>
                </div>
            </div>
        </div>

        <!-- アカウント編集画面 -->
        <div id="account-edit-screen" class="screen">
            <div class="card">
                <h2 class="card-title">⚙️ アカウント設定</h2>
                <form id="account-edit-form">
                    <div class="form-group">
                        <label class="form-label" for="edit-display-name">表示名</label>
                        <input type="text" id="edit-display-name" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="edit-riot-id">Riot ID</label>
                        <input type="text" id="edit-riot-id" class="form-input" 
                               placeholder="例: Test#JP1 または Test#1234">
                        <small class="help-text">「ユーザー名#タグ」の形式で入力してください</small>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="btn">更新</button>
                        <button type="button" class="btn btn-outline" onclick="showDashboard()">キャンセル</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- 募集投稿作成画面 -->
        <div id="create-post-screen" class="screen">
            <div class="card">
                <h2 class="card-title">📝 募集投稿作成</h2>
                <form id="create-post-form">
                    <div class="form-group">
                        <label class="form-label" for="post-title">タイトル</label>
                        <input type="text" id="post-title" class="form-input" 
                               placeholder="例: ランクデュオ募集！" required>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label class="form-label" for="post-mode">ゲームモード</label>
                            <select id="post-mode" class="form-select" required>
                                <option value="">選択してください</option>
                                <option value="ランク">ランク</option>
                                <option value="ノーマル">ノーマル</option>
                                <option value="ARAM">ARAM</option>
                                <option value="フレックス">フレックス</option>
                                <option value="カスタム">カスタム</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="post-rank">ランク帯</label>
                            <select id="post-rank" class="form-select" required>
                                <option value="">選択してください</option>
                                <option value="Iron">Iron</option>
                                <option value="Bronze">Bronze</option>
                                <option value="Silver">Silver</option>
                                <option value="Gold">Gold</option>
                                <option value="Platinum">Platinum</option>
                                <option value="Emerald">Emerald</option>
                                <option value="Diamond">Diamond</option>
                                <option value="Master">Master</option>
                                <option value="Grandmaster">Grandmaster</option>
                                <option value="Challenger">Challenger</option>
                                <option value="Unranked">Unranked</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="post-lane">メインレーン</label>
                        <select id="post-lane" class="form-select" required>
                            <option value="">選択してください</option>
                            <option value="TOP">TOP</option>
                            <option value="JG">JG</option>
                            <option value="MID">MID</option>
                            <option value="BOT">BOT</option>
                            <option value="SUP">SUP</option>
                            <option value="AUTOFILL">AUTOFILL</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="post-description">詳細（任意）</label>
                        <textarea id="post-description" class="form-textarea" rows="4" 
                                  placeholder="募集の詳細や条件があれば記入してください"></textarea>
                    </div>
                    
                    <div class="button-group">
                        <button type="submit" class="btn">投稿作成</button>
                        <button type="button" class="btn btn-outline" onclick="showDashboard()">キャンセル</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- 募集掲示板画面 -->
        <div id="board-screen" class="screen">
            <div class="card">
                <h2 class="card-title">🔍 募集掲示板</h2>
                
                <!-- フィルター -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                    <div class="form-group">
                        <label class="form-label" for="filter-rank">ランク絞り込み</label>
                        <select id="filter-rank" class="form-select" onchange="loadPosts()">
                            <option value="">すべてのランク</option>
                            <option value="Iron">Iron</option>
                            <option value="Bronze">Bronze</option>
                            <option value="Silver">Silver</option>
                            <option value="Gold">Gold</option>
                            <option value="Platinum">Platinum</option>
                            <option value="Emerald">Emerald</option>
                            <option value="Diamond">Diamond</option>
                            <option value="Master">Master</option>
                            <option value="Grandmaster">Grandmaster</option>
                            <option value="Challenger">Challenger</option>
                            <option value="Unranked">Unranked</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="filter-mode">モード絞り込み</label>
                        <select id="filter-mode" class="form-select" onchange="loadPosts()">
                            <option value="">すべてのモード</option>
                            <option value="ランク">ランク</option>
                            <option value="ノーマル">ノーマル</option>
                            <option value="ARAM">ARAM</option>
                            <option value="フレックス">フレックス</option>
                            <option value="カスタム">カスタム</option>
                        </select>
                    </div>
                </div>
                
                <div id="recruitment-posts">
                    <!-- 投稿一覧をJavaScriptで動的に表示 -->
                </div>
            </div>
        </div>

        <!-- 自分の投稿管理画面 -->
        <div id="my-posts-screen" class="screen">
            <div class="card">
                <h2 class="card-title">📋 投稿管理</h2>
                <div style="margin-bottom: 2rem;">
                    <button class="btn" onclick="showCreatePost()">新しい募集を作成</button>
                </div>
                <div id="my-posts-list">
                    <!-- 自分の投稿一覧をJavaScriptで動的に表示 -->
                </div>
            </div>
        </div>

        <!-- 申請管理画面 -->
        <div id="applications-screen" class="screen">
            <div class="card">
                <h2 class="card-title">📬 申請管理</h2>
                <p>あなたの募集投稿への申請一覧です。</p>
                <div id="applications-list">
                    <!-- 申請一覧をJavaScriptで動的に表示 -->
                </div>
            </div>
        </div>

        <!-- パーティー一覧画面 -->
        <div id="parties-screen" class="screen">
            <div class="card">
                <h2 class="card-title">👥 パーティー一覧</h2>
                <p>参加中のパーティー一覧です。</p>
                <div id="parties-list">
                    <!-- パーティー一覧をJavaScriptで動的に表示 -->
                </div>
            </div>
        </div>

        <!-- パーティー詳細画面 -->
        <div id="party-detail-screen" class="screen">
            <div class="party-container">
                <!-- パーティーメンバー -->
                <div class="party-members">
                    <h3 class="card-title">👥 メンバー</h3>
                    <div id="party-members-list">
                        <!-- パーティーメンバー一覧をJavaScriptで動的に表示 -->
                    </div>
                </div>

                <!-- パーティーチャット -->
                <div class="party-chat">
                    <div class="chat-header">
                        <h3 style="margin: 0; color: var(--accent-gold);">💬 パーティーチャット</h3>
                    </div>
                    <div id="party-messages">
                        <!-- チャットメッセージをJavaScriptで動的に表示 -->
                    </div>
                    <div class="chat-input-container">
                        <div class="chat-input-group">
                            <input type="text" id="message-input" class="chat-input" 
                                   placeholder="メッセージを入力..." maxlength="500"
                                   onkeypress="if(event.key==='Enter') sendMessage()">
                            <button class="btn" onclick="sendMessage()">送信</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 2rem; text-align: center;">
                <button class="btn btn-outline" onclick="showParties()">パーティー一覧に戻る</button>
            </div>
        </div>
    </main>

    <!-- 参加申請モーダル -->
    <div id="apply-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>参加申請</h3>
                <button class="modal-close" onclick="closeApplyModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="apply-form">
                    <input type="hidden" id="apply-post-id">
                    <div class="form-group">
                        <label class="form-label" for="apply-lane">希望レーン</label>
                        <select id="apply-lane" class="form-select" required>
                            <option value="">選択してください</option>
                            <option value="TOP">TOP</option>
                            <option value="JG">JG</option>
                            <option value="MID">MID</option>
                            <option value="BOT">BOT</option>
                            <option value="SUP">SUP</option>
                            <option value="AUTOFILL">AUTOFILL</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="apply-message">メッセージ（任意）</label>
                        <textarea id="apply-message" class="form-textarea" rows="3" 
                                  placeholder="自己紹介や意気込みがあれば記入してください"></textarea>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="btn">申請送信</button>
                        <button type="button" class="btn btn-outline" onclick="closeApplyModal()">キャンセル</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- トーストメッセージ -->
    <div id="toast" class="toast">
        <div id="toast-message"></div>
    </div>

    <script src="app.js"></script>
</body>
</html> 